<?php

	$sql = "SELECT rank, playername, points FROM (
               SELECT id, playername, @rownum := @rownum + 1 AS rank, points
               FROM players ORDER BY points DESC
               ) as result";
	
	$query = $this -> db -> query($sql2);
	
	if (!empty($query)) {
		foreach ($query->result() as $rows) {
			$scores = array('rank' => $rows -> rank, 'score' => $rows -> points);
			return $scores;				
		}
	} else {
		return FALSE;
	}

?>