<!DOCTYPE html>
<html>
	<head>
		<title>HTML5 Geolocation API Example</title>
		<meta charset="UTF-8"/>
		<script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAA7QMl_fhRoQr3xhegR8cKcRTjaMRXcezONfTnG1sptrgD3a1RtBSsJ2yKk9TpZEewunf_mL1ZroVswQ" type="text/javascript"></script>
		<script type="text/javascript">
            function displayLocation() {
                // obtain the geolocator
                var gps = navigator.geolocation;

                if (gps) {
                    // determine the current position and pass a callback function
                    gps.getCurrentPosition(function(position) {
                        if (GBrowserIsCompatible()) {
                            // initialise the map
                            var map = new GMap2(document.getElementById("map"));
                            // set the determined position as the map center
                            map.setCenter(new GLatLng(position.coords.latitude, position.coords.longitude), 14);
                        }
                        alert("your position is: " + position.coords.latitude + "/" + position.coords.longitude + "/" + position.coords.accuracy);
                    }, function(error) {
                        alert("Got an error, code: " + error.code + " message: " + error.message);
                    });
                } else {
                    alert("no geolocator available!");
                }
            }
		</script>
	</head>

	<body onunload="GUnload()" onload="displayLocation()">
		<!--  the element where the map will be displayed -->
		<div id="map" style="width: 500px; height: 300px"></div>
	</body>

</html>
